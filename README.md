The Grid World is a simple puzzle that can be modelled as a sequential decision problem. As illustrated in [Figure 17.1](http://aima.cs.berkeley.edu/figures.pdf) of _AI: A Modern Approach by Russell_ by S. and P. Norvig, the grid can be visualised as rows and columns of cells that can be represented by states. There is a single start state, a set of terminal states and obstacles (cells that cannot be accessed). The agent starts at the initial state and the objective of the puzzle is to reach the terminal state with the highest reward, through a sequential series of actions (possibly stochastic). 

Following Russell, S. and P. Norvig, one-based cartesian coordinates (each pair comprising positive integers) are used to reference positions of the cells (i.e., the horizontal axis goes left to right from 1, 2, 3... whereas the vertical axis goes bottom to top from 1, 2, 3...). Cell references are also referred to accordingly in the form (x, y), where x and y are both strictly positive. An n x m `grid` is implemented as an n x m list. Thus, (x, y) is stored as `grid[y-1][x-1]` since lists are zero-indexed. When displaying the contents of the grid, the rows are displayed in reverse order since the vertical axis of the cartesian coordinates goes from bottom to top in ascending order, contrary to the typical ordering in a list, array or grid of bits/pixels. Terminal states of the grid may include both states with positive and negative rewards and once reached, the agent remains in the state (cell), regardless of the level of reward obtained. The available actions allow the agent to travel UP, DOWN, LEFT and RIGHT, although there is a chance that the agent ends up in an entirely different state than intended. This behaviour can be defined by the user. Additionally, an action that causes the agent to exceed the boundaries of the grid or end up sharing a state with an obstacle would result in the agent remaining in the original position.

This code aims to compute the transition probabilities of each state, given a series of actions (i.e., the probability for each cell shows the probability that the agent ends up in that cell after taking the given series of actions). The transition probabilities can thereafter be used for model-based solutions such as value iteration. A fully observable MDP is assumed. A grid is generated from the given inputs and the code outputs visualisations consisting of the original puzzle and representations of the resulting set of transition probabilities, which include both a grid and a tree. These visual representations are stored in HTML format and is opened by the device's local browser upon completion.

For the probability tree, the root of the tree represents the initial state. For every parent in the tree, its list of children consists of states that it can possibly reach after taking the corresponding action. The probability of a parent reaching its child is given by the edge connecting the parent to the child. The product of probabilities from a leaf node to the root gives the probability of an agent reaching the cell at the leaf node via the corresponding series of actions from the initial state, whereas the sum of such products for a leaf node that appears more than once in the tree would give the total probability, across all possible paths (series of actions), of the agent reaching the cell represented by the leaf node.

The inputs, which can be edited within the code, are described as follows:
* `rows`: The number of rows in the grid.
* `cols`: The number of columns in the grid.
* `terminal_states`: A list of tuples where each tuple is a pair of coordinates representing terminal states.
* `init_cell`: A tuple containing a pair of coordinates that represents the agent's initial state.
* `mv_ls`: A list of named actions (strings) to be taken by the agent starting from the initial state, in chronological order from the first to last element in the list.
* `mv_map`: A mapping (dictionary) of actions to a list of tuples, where each tuple contains the probability of the resulting action taken and the name of the corresponding resulting action (probabilities must sum to 1).

The program saves the following outputs as HTML files:
1. [puzzle_grid.html](probabilties_outputs/puzzle_grid.html): A visual representation of the created grid.
2. [probabilities_grid.html](probabilties_outputs/probabilities_grid.html): A visual representation of the transition probabilities of each cell in the grid.
3. [probabilities_tree.html](probabilties_outputs/probabilities_tree.html): A visual representation of the probability tree generated by taking the given series of actions.

*How to run:* Firstly, define the inputs within the code, referring to the above definitions. Secondly, run the code using `python transition_probabilities.py`. The three output visualisations will be saved in a directory titled "probabilities_outputs" within the current working directory. The generated HTML files will also automatically be opened in new tabs of the local device's browser upon successful execution of the code.